--------------------------------------------------------------------------------
--  Function......... : easeInOutElastic
--  Author........... : 
--  Description...... : 
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
function Tweener.easeInOutElastic ( t, b, c, d, a, p )
--------------------------------------------------------------------------------
	
	if (t==0) then return b; end
    t=t/d/2
    if (t==2) then return b+c; end
    if (p==nil) then p=d*(.3*1.5); end 
    local s;
    if (a==nil or a < math.abs(c)) then a=c; s=p/4;
    else s = p/(2*3.14159265) * math.asin (c/a); end 
    if (t < 1) then 
        t = t -1
        return -.5*(a*math.pow(2,10*(t)) * math.sin( (t*d-s)*(2*3.14159265)/p )) + b;
    end
    t = t - 1
    return a*math.pow(2,-10*(t)) * math.sin( (t*d-s)*(2*3.14159265)/p )*.5 + c + b;
	
--------------------------------------------------------------------------------
end
--------------------------------------------------------------------------------
